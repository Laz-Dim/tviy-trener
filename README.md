# Проєкт "Твій Тренер" — Автоматизований Блог

Цей проєкт автоматизує створення контенту для сайту та Telegram-каналу на основі YouTube-відео тренера Іллі Поліщука.

## Основні можливості
- **Збір відео:** Скрипт знаходить всі відео на каналі.
- **Транскрипція:** Автоматичне отримання тексту відео (субтитрів).
- **Генерація блогу:** Перетворення транскриптів у структуровані дописи для сайту.
- **Відкладена публікація:** Пости з'являються на сайті по одному щодня.
- **Telegram-сповіщення:** Автоматична розсилка нових постів у Telegram.

## Встановлення та налаштування

### 1. Встановлення залежностей
Переконайтеся, що у вас встановлено Python 3.8+ та Node.js (для фронтенд-тестів).
```bash
pip install -r requirements.txt
```

### 2. Змінні середовища
Створіть файл `.env` (або налаштуйте змінні в системі) для безпечного зберігання секретів:
- `TELEGRAM_BOT_TOKEN`: Токен вашого бота (отримайте у @BotFather).
- `TELEGRAM_CHAT_ID`: ID вашого Telegram-каналу або особистого чату.
- `BASE_URL`: Базова URL-адреса сайту (наприклад, `https://illya-polishchuk.lviv.ua/`).

### 3. Конфігурація форми зв'язку (index.html)
В кінці файлу `index.html` у секції скриптів знайдіть константи `TG_TOKEN`, `chatIdDimon` та `chatIdTrainer` та встановіть ваші реальні дані для роботи форми "Записатись на тренування".
> **Важливо:** Для публічних сайтів рекомендується використовувати бекенд-проксі для приховання токенів, але для цього проєкту використано прямий виклик API Telegram.

## Робочий процес

### Оновлення контенту
1. **`python get_videos.py`**: Оновлює список відео з YouTube.
2. **`python get_transcripts.py`**: Завантажує текст для нових відео.
3. **`python generate_blog_posts.py`**: Створює/оновлює файл `blog_posts.json`.

### Автоматизація розсилки (Telegram)
Скрипт `send_to_telegram.py` призначений для запуску за розкладом (наприклад, через GitHub Actions або Cron). Він перевіряє, чи є новий пост на сьогодні, і надсилає його в Telegram, якщо він ще не був надісланий.

Приклад запуску:
```bash
python send_to_telegram.py
```

## Файлова структура
- `index.html`: Головна сторінка сайту з динамічним блогом.
- `blog_posts.json`: "База даних" постів.
- `send_to_telegram.py`: Логіка Telegram-бота.
- `generate_blog_posts.py`: Логіка обробки текстів.
- `verify_new_layout.js`: Тест для перевірки відображення блогу.

## Безпека
- Всі динамічні дані на сайті рендеряться через `textContent` для захисту від XSS.
- Секретні токени винесені в змінні середовища.
